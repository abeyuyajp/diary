# Journaly
英語日記を記録できるアプリです。

* URL : http://18.179.168.214
* ログインユーザー
  * E-mail : test@example
  * Password : test0618

![jounaly](https://user-images.githubusercontent.com/76641435/117591800-09df9300-b171-11eb-8cfb-07b9c145ac28.png)

## アプリ概要
英語で日常を記録するためのアプリです。Journalyなら、誰にも公開されることなく、英語日記を残すことができます。レスポンスの早い翻訳機能を利用したり、埋め込まれている旅人のVLOGを見たりしながら、英語に触れる習慣を作りましょう。

## 背景
英文法を理解できるようになるために「英語日記を習慣化したい」と思ったことがきっかけでこのアプリを作りました。プログラミングの学習を進めていくに連れて、やはり英語は必要だと痛感しました。以前、紙媒体で英語日記を作っていたのですが、継続させることができず挫折してしまった経験から、オンライン上で気軽に英語日記を作れるアプリを作りました。


## 作成期間
* 2021/4/14 PHP学習開始
* 2021/4/16 Laravel学習開始 
* 2021/4/20 アプリ作成開始
* 2021/5/7  各機能実装完了後、デプロイ
* 2021/5/26 追加機能実装完了

## 使用技術
* 開発環境
  * MacbookAir M1チップ
* バックエンド
  * PHP 7.4
  * Laravel 6.x
* フロントエンド
  * HTML/CSS/Sass/Bootstrap
  * Node.js
  * レスポンシブ対応
* インフラ
  * CircleCi 自動テスト/自動デプロイ
  * Docker for Mac -AppleChip
  * nginx 1.18
  * AWS (EC2,RDS,VPC, IAM)
  * GCP (Translation API, YouTube API)
  * MySQL 8.0.20
  * composer 1.10.21

## 機能一覧
### ユーザー機能
* 新規登録、ログイン、ログアウト、パスワード変更
<span style="color: #27AE60;">### 翻訳機能(Google Cloud Translation API連携)</span>
* 非同期通信
* 日本語から英語に翻訳
<span style="color: #27AE60;">### YouTube API連携</span>
* 世界の旅人のVLOG埋め込み
* ページを更新すると再生リストの中からランダムで表示される
### 投稿機能
* 新規投稿、投稿一覧、投稿詳細、投稿編集、投稿削除
* 自分の投稿だけが投稿一覧画面に表示される
* 他のユーザーから自分の投稿は見られない
* 投稿に画像を入れることができる
* ページネーション
### 検索機能
* タイトルからあいまい検索
* ページネーション
### メモ機能
* 作成機能
* ページを更新しなくてもメモが追加される
### レスポンシブデザイン
* スマホサイズになると、投稿が1列に変化する


## 意識したこと
* サービス設計において「少なくとも自分は絶対に使うであろうアプリ」を作ることを意識しました。
* ストレスなく、日記を継続できるように直感的なUI/UXを意識しました。
* プロの目線から見たら、まだまだ荒いコードになっているかもしれませんが、インデントをしっかりとつけ、他の人が見てもわかりやすいような記述を意識しました。

## 苦労したこと
* Dockerを使った環境構築の全体像が見えず、理解に苦しみました。先人の方の情報を取り入れながらとにかく手を動かして、少しずつ理解を深めていきました。
* CircleCiでの自動デプロイと自動テストの全体像の把握とconfig.ymlの設定。特にconfig.ymlのエラーにはかなり時間を使いました。自動デプロイにおいてはDBを更新できないというエラーが発生しています。
* 今回、AWSでは新たにRDSとVPCを使いました。ネットワーク関連は今まで触れてこなかったので、理解するのに時間がかかりました。
* Google Cloud Translation APIを使った翻訳機能の実装。Jqueryを使った非同期通信の実装に時間がかかってしまいました。


## 実装予定の機能
* Markdownエディタの導入
* マイページ機能の導入
* S3の導入

# DB設計
## postsテーブル

| Column             | Type        |
| ------------------ | ----------- |
| user_id            | bigInteger  |
| image              | string      |
| title              | string      |
| text               | text        |



## usersテーブル

| Column             | Type        |
| ------------------ | ----------- |
| name               | string      |
| email              | string      |
| password           | string      |



## commentsテーブル

| Column             | Type        |
| ------------------ | ----------- |
| post_id            | bigInteger  |
| user_id            | bigInteger  |
| text               | text        |
